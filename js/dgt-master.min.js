var myLazyLoad;!function(C){function e(e){e?1024<=W.width()&&(u.hasClass("ps-container")||(u.perfectScrollbar({suppressScrollX:!0}),u.on("ps-y-reach-end",function(){u.hasClass("loading-more")||(u.addClass("loading-more"),console.log("ahora cargaré más ITEMS"))}))):u.hasClass("ps-container")&&u.perfectScrollbar("destroy")}function a(e){if(e){if(!v.find("ul").length){var i=v.find("option:selected").val();v.find("option").each(function(){C(this).replaceWith('<li class="'+C(this).val()+'">'+C(this).text()+"</li>")});var a=v.find("select");a.replaceWith("<ul>"+a.html()+"</ul>"),v.find("."+i).addClass("active"),v.removeClass(i)}}else if(!v.find("select").length){var t=v.find(".active").index(),s=v.find(".active").attr("class").split(" ")[0];v.find("li").each(function(){C(this).replaceWith('<option value="'+C(this).attr("class").split(" ")[0]+'">'+C(this).text()+"</option>")});var l=v.find("ul");l.replaceWith("<select>"+l.html()+"</select>"),v.find("option").eq(t).prop("selected",!0).siblings().prop("selected",!1),v.addClass(s)}}function t(){C("#map-view").addClass("active"),C(".option-switch").removeClass("active"),C("#show-map").hasClass("active")||(C("#show-map").addClass("active"),C("#full-slider").addClass("active"));var e=C("#map-result"),i={lat:parseFloat(e.data("lat")),lng:parseFloat(e.data("lng"))},a=new google.maps.Map(document.getElementById("map-result"),{zoom:16,center:i,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.HORIZONTAL_BAR,position:google.maps.ControlPosition.TOP_RIGHT}});new google.maps.Marker({position:i,map:a})}function s(){var e=C("#md-title");if(void 0!==e){var i=C("#md-body").width();e.css({width:i+"px"})}}function l(e,i){i.hasClass("ps-container")||setTimeout(function(){i.perfectScrollbar({suppressScrollX:!0,minScrollbarLength:"42"})},1e3*Number(e.css("transition-duration").replace("s",""))*2)}function r(){switch(!0){case p<768:O=1;break;case 768<=p&&p<1024:O=2;break;case 1024<=p:O=3}}function o(e){var i=e.find("img"),a=i.attr("data-blazy");void 0!==a&&(i.attr("src",a).removeAttr("data-blazy"),e.addClass("loading"),i.on("load",function(){e.removeClass("loading")}))}function r(){switch(!0){case p<768:O=1;break;case 768<=p&&p<1024:O=2;break;case 1024<=p:O=3}}function n(e,i,a){var t=e,s=i,l=a,r=C("#modal_img_propertie"),o=r.find(".title");if(!o.hasClass("worked")){var n=C("#full-main").find(".property-information li"),d=[];d.push(n.eq(0).text().split(" ")[0],n.eq(1).text().split(" ")[0],n.eq(2).text().split(" ")[0],n.eq(4).text().split(" ")[0]);for(var c=o.find("span").text(),m=0;m<d.length;m++)c=c.replace("%",d[m]);r.find(".title span").text(c),o.addClass("worked")}var p=r.find(".wrapper-img"),f=p.find(".numeration"),v=t;f.find("span").eq(0).text(v+1),f.find("span").eq(1).text(s),p.find(".img").attr("src","").attr("src",l);var h=r.find(".prev");1<=v?h.hasClass("opacity")&&h.removeClass("opacity"):h.hasClass("opacity")||h.addClass("opacity"),r.fadeIn();var u=null,g=null;r.on("touchstart",function(e){u=e.touches[0].clientX,g=e.touches[0].clientY}),r.on("touchmove",function(e){if(u&&g){var i=e.touches[0].clientX,a=e.touches[0].clientY,t=u-i,s=g-a;Math.abs(t)>Math.abs(s)&&(e.preventDefault(),r.trigger("mouseenter"),0<t?C("#modal_img_propertie .nav.next").trigger("click"):C("#modal_img_propertie .nav.prev").trigger("click")),g=u=null}}),C(document).on("keyup",function(e){27===e.keyCode&&(C("#modal_img_propertie .close-modal").trigger("click"),C(document).off("keyup")),39===e.keyCode&&C("#modal_img_propertie .nav.next").trigger("click"),37===e.keyCode&&C("#modal_img_propertie .nav.prev").trigger("click")})}function d(e){var i="left"===e?"-=3px":"+=3px";C(".scroll-tab-list").animate({scrollLeft:i},1,function(){P&&d(e)})}function c(){var e,i=0;C(".scroll-tab-list .scroll-item").each(function(){e=C(this).innerWidth(),i+=e}),C(".wrapper-scroll-tab").width()<i?C(".wrapper-scroll-tab").addClass("active"):C(".wrapper-scroll-tab").removeClass("active")}C(function(){"undefined"!=typeof LazyLoad&&(myLazyLoad=new LazyLoad({elements_selector:".flex-lazy-image",callback_load:function(){}}),C(document).on("click","li.grid",function(){myLazyLoad.update()}),C(".tabs-btn > li").on("click",function(){myLazyLoad.update()}),C(document).on("click",".flex-slider-prev",function(e){e.stopPropagation();var i=C(this).prev().find("li.flex-slider-current").index(),a=C(this).prev().find("li").length;i=0===i?a-1:i-1,C(this).prev().find("li").removeClass("flex-slider-current"),C(this).prev().find("li").addClass("flex-slider-item-hidden"),C(this).prev().find("li").eq(i).removeClass("flex-slider-item-hidden").addClass("flex-slider-current"),myLazyLoad.update()}),C(document).on("click",".flex-slider-next",function(e){e.stopPropagation();var i=C(this).prev().prev().find("li.flex-slider-current").index();C(this).prev().prev().find("li").length-1<=i?i=0:i+=1,C(this).prev().prev().find("li").removeClass("flex-slider-current"),C(this).prev().prev().find("li").addClass("flex-slider-item-hidden"),C(this).prev().prev().find("li").eq(i).removeClass("flex-slider-item-hidden").addClass("flex-slider-current"),myLazyLoad.update()}))});var m=C("body"),p=(W=C(window)).width(),f=C("html, body");W.on("load",function(){m.removeClass("loading")});var v=C("#filter-views");if(v.length){var h=C("#wrap-result");v.on("change","select",function(){switch(C(this).find("option:selected").val()){case"grid":v.removeClass("list map").addClass("grid"),h.removeClass("view-list view-map").addClass("view-grid"),m.removeClass("view-list view-map");break;case"list":v.removeClass("grid map").addClass("list"),h.removeClass("view-grid view-map").addClass("view-list"),m.addClass("view-list").removeClass("view-map");break;case"map":v.removeClass("list grid").addClass("map"),h.removeClass("view-list view-grid").addClass("view-map"),m.removeClass("view-list").addClass("view-map")}}),v.on("click","li",function(){switch(C(this).addClass("active").siblings().removeClass("active"),C(this).attr("class").split(" ")[0]){case"grid":h.removeClass("view-list view-map").addClass("view-grid"),m.removeClass("view-list view-map"),e(!1);break;case"list":h.removeClass("view-grid view-map").addClass("view-list"),m.addClass("view-list").removeClass("view-map"),e(!1);break;case"map":h.removeClass("view-list view-grid").addClass("view-map"),m.removeClass("view-list").addClass("view-map"),e(!0)}});var u=C("#wrap-list-result");768<=W.width()&&a(!0),W.on("resize",function(){var e=W.width();768<=e?a(!0):e<768&&a(!1)})}var g=C(".slider-generator");g.on("click",".btn-check",function(){var e=C("#link-favorites > a"),i=e.find("span:eq(1)"),a=C(this).find("span");if(a.hasClass("active")){if(a.removeClass("active"),e.length){i=C("#link-favorites a span:eq(1)");var t=Number(i.text())-1;i.text(t),0==t&&e.removeClass("active")}}else a.addClass("active"),e.length&&(0==Number(i.text())?(i.text("1"),e.addClass("active")):i.text(Number(i.text())+1))});var b=null,w=null;g.on("touchstart",".propertie",function(e){b=e.touches[0].clientX,w=e.touches[0].clientY}),g.on("touchmove",".propertie",function(e){if(b&&w){var i=e.touches[0].clientX,a=e.touches[0].clientY,t=b-i,s=w-a;Math.abs(t)>Math.abs(s)&&(e.preventDefault(),0<t?C(this).find(".next").click():C(this).find(".prev").click()),w=b=null}});var x=C("#cities-list");x.length&&W.on("resize",function(){x.hasClass("ps-container")&&x.perfectScrollbar("update")});var k=C("#mini-filters");k.length&&k.find("h4").on("click",function(){var e=C(this).parents("li");e.toggleClass("expanded").siblings().removeClass("expanded"),e.hasClass("cities")&&!x.hasClass("ps-container")&&(setTimeout(function(){x.perfectScrollbar({suppressScrollX:!0,minScrollbarLength:"42"})},1e3*Number(e.css("transition-duration").replace("s",""))*2),l(e,x))});var y=C("#filters");if(y.length){var _=C("#all-filters"),L=C("#wrap-filters");y.on("click","button",function(){C("#mini-filters .price").addClass("expanded");var e=C(this).parent(),i=e.attr("class").split(" ")[0],a=k.find("li."+i);if(a.length)e.toggleClass("active").siblings().removeClass("active");else{if("all"!==i)return;e.toggleClass("active").siblings().removeClass("active")}switch(i){case"all":if(_.hasClass("visible")?_.hasClass("individual")&&_.hasClass("visible")?_.removeClass("individual"):!_.hasClass("individual")&&_.hasClass("visible")&&_.removeClass("visible"):_.addClass("visible"),L.width()<=768){m.toggleClass("fixed");var t=L.position().top-Number(L.css("margin-top").replace("px",""));W.scrollTop()!==t&&f.animate({scrollTop:t},800),_.hasClass("ps-container")||setTimeout(function(){_.perfectScrollbar({suppressScrollX:!0,minScrollbarLength:"42"})},1e3*Number(_.css("transition-duration").replace("s",""))*2)}L.width()<=640?_.css({top:L.outerHeight()+L.position().top+"px",left:"0px",height:"calc(100vh - "+(L.outerHeight()+y.find("li.save").outerHeight())+"px)"}):640<L.width()&&L.width()<=768?_.hasClass("neighborhood")?(_.removeAttr("style"),console.log("Widt all filter: "+_.width()+" | position left clicked: "+e.position().left+" | Li clicked widht: "+e.width()),_.css({top:L.outerHeight()+"px",right:"0",left:"auto",transform:"none"})):_.css({left:"0px",top:L.outerHeight()+"px",height:"calc(100vh - "+(L.outerHeight()+q.outerHeight())+"px)"}):(_.removeAttr("style"),_.css("top",L.outerHeight()+"px"),l(_,x));break;default:m.hasClass("fixed")&&m.removeClass("fixed"),_.hasClass("ps-container")&&_.perfectScrollbar("destroy"),e.hasClass("active")?(a.addClass("visible").siblings().removeClass("visible"),_.hasClass("individual")||(_.addClass("individual"),_.css("height","auto")),_.hasClass("visible")||_.addClass("visible"),_.css({top:L.outerHeight()+"px",left:e.position().left+e.outerWidth()/2-150+"px"})):(_.removeClass("visible"),a.removeClass("visible"),e.removeClass("active"),setTimeout(function(){_.removeClass("individual")},1e3*Number(_.css("transition-duration").replace("s",""))))}});var q=C("#apply-filters");q.length&&q.on("click",function(){y.find(".all button").trigger("click")}),C(document).on("mouseup",function(e){_.hasClass("visible")&&(L.is(e.target)||0!==L.has(e.target).length||y.find(".active button").trigger("click"))}),y.find(".mini-search, .save").on("click",function(){_.hasClass("visible")&&y.find(".active button").trigger("click")})}C("#neighborhood").length&&1280<=W.width()&&C("#neighborhood").perfectScrollbar({suppressScrollX:!0,minScrollbarLength:"42"});var z=C("#neighborhood-menu");z.length&&z.on("click","li",function(){z.toggleClass("active"),C(this).addClass("active").siblings().removeClass("active")});var S=C("#map-actions");S.length&&S.on("click","button",function(){u.toggleClass("closed"),C(this).addClass("hide").siblings().removeClass("hide")}),setTimeout(function(){var i=z.find("li"),a=i.length;if(a){var e=0;i.each(function(){e+=C(this).outerWidth()});var t=e+Number(i.eq(0).css("margin-right").replace("px",""))*(a-1),s=z.find("ul"),l=Number(z.find(".gwr").width());if(t<z.width()){z.find("button").addClass("hide"),65<=Math.floor(100*t/l)&&s.addClass("flex")}else{s.css("width",t+"px");var r=z.find(".next-item"),o=z.find(".prev-item");r.on("click",function(){var e=i.eq(a-1);s.css("margin-left",l-e.position().left+e.width()+"px"),C(this).addClass("hide"),o.removeClass("hide")}),o.on("click",function(){s.css("margin-left","0"),C(this).addClass("hide"),r.removeClass("hide")})}}},300),function(e){var i=C(e+".fixed-box").offset();if(null!=i){var a=i.top+100;W.scroll(function(){var e=W.scrollTop();a<e?m.addClass("fixed-active"):m.removeClass("fixed-active")})}}("#wrap-filters"),s(),W.resize(function(){s()}),C(".header-tab a").click(function(){var e;C(".header-tab a").removeClass("active"),C(this).addClass("active");var i=C(this).attr("data-tab");switch(i){case"tabLogin":C("#modal_login h2").text("Welcome Back"),C(".text-slogan").text("Sign in below");break;case"tabRegister":C("#modal_login h2").text("Register"),C(".text-slogan").text("Join to save listings and receive updates");break;case"tabReset":C("#modal_login h2").text("Welcome Back"),C(".text-slogan").text("Sign in below")}C(".item_tab").removeClass("active"),C("#"+i).addClass("active"),e=C("#content-info-modal").height(),C(".img_modal").css({height:e+"px"})});var N=C(".map-actions button");void 0!==N&&N.on("click",function(){N.removeClass("no-show"),C(this).addClass("no-show"),C("#wrap-list-result").toggleClass("hidden-results")});var T,H,M=C("html");C(document).on("click",".close-div",function(){C(".modal-welcome-login").fadeOut()}),C(document).on("click",".tab-list li a",function(){var e=C(this).attr("data-tab");C(".tab-list li a").removeClass("active"),C(this).addClass("active"),C(".body-tabs .item-tab").hide(),C(".body-tabs "+e).fadeIn()}),C(document).on("click",".register",function(){C(".header-tab li a").removeClass("active"),C(".item_tab").removeClass("active"),C(".header-tab li a[data-tab='tabRegister']").addClass("active"),C("#tabRegister").addClass("active")}),C(document).on("click",".login",function(){C(".header-tab li a").removeClass("active"),C(".item_tab").removeClass("active"),C(".header-tab li a[data-tab='tabLogin']").addClass("active"),C("#tabLogin").addClass("active")}),C(document).on("click",".close-message",function(){C(this).parent(".message-alert").fadeOut("fast")}),C(document).on("click","#btn-flight",function(){C("#full-slider .wrap-slider li:first-child").trigger("click")}),C(document).on("click",".overlay_modal_closer",function(){var e=C(this).attr("data-id"),i=C(this).attr("data-frame");C("#"+e).removeClass("active_modal"),M.removeClass(i)}),C(document).on("click",".close-modal",function(){var e=C(this).attr("data-id"),i=C(this).attr("data-frame");C("#"+e).removeClass("active_modal"),M.removeClass(i)}),C(document).on("click",".show-modal",function(){var e=C(this).attr("data-modal"),i=C(this).attr("data-position"),a=C("#"+e),t=C("#"+e).find(".lazy-img").attr("data-src");void 0!==t&&C("#"+e).find(".lazy-img").attr("src",t).removeAttr("data-src"),a.hasClass("active_modal")?C(".overlay_modal").removeClass("active_modal"):(a.addClass("active_modal"),0==i?M.addClass("modal_fmobile"):M.addClass("modal_mobile"));var s=C("#min-map").attr("data-map-img");void 0!==s&&C("#min-map").css("background-image","url('"+s+"')").removeAttr("data-map-img")}),C(document).on("click",".option-switch",function(){if(!C(this).hasClass("active"))switch(C(".option-switch").removeClass("active"),C(this).addClass("active"),C(this).data("view")){case"gallery":C("#map-view").removeClass("active"),C("#full-slider").removeClass("active");break;case"map":t()}}),C(document).on("click","#min-map",function(){t()}),C(document).on("click","#show-shared",function(){C(".shared-content").toggleClass("active")}),T=jQuery,H={pips:function(e){options={first:"number",last:"number",rest:"pip"},T.extend(options,e),this.element.addClass("ui-slider-pips").find(".ui-slider-pip").remove();var a=this.options.max-this.options.min;for(i=0;i<=a;i++){var t=T('<span class="ui-slider-pip"><span class="ui-slider-line"></span><span class="ui-slider-number">'+i+"</span></span>");0==i?(t.addClass("ui-slider-pip-first"),"number"==options.first&&t.addClass("ui-slider-pip-number"),0==options.first&&t.addClass("ui-slider-pip-hide")):a==i?(t.addClass("ui-slider-pip-last"),"number"==options.last&&t.addClass("ui-slider-pip-number"),0==options.last&&t.addClass("ui-slider-pip-hide")):("number"==options.rest&&t.addClass("ui-slider-pip-number"),0==options.rest&&t.addClass("ui-slider-pip-hide")),"horizontal"==this.options.orientation?t.css({left:100/a*i+"%"}):t.css({top:100/a*i+"%"}),this.element.append(t)}}},T.extend(!0,T.ui.slider.prototype,H);var O=0;r();var W;p=(W=C(window)).width();W.on("resize",function(){p=W.width(),setTimeout(function(){r()},100)});O=0;r();C("#full-main");var A,X=C("#full-slider .wrap-slider");if(X.length){var I=X.find("ul"),R=I.find("li");1<R.length?(setTimeout(function(){X.addClass("built")},500),I.data("frame",1),function e(i,a){if(i!==a){var t=R.eq(i),s=t.find("img"),l=s.attr("data-blazy");void 0!==l&&(s.attr("src",l).removeAttr("data-blazy"),t.addClass("loading"),s.on("load",function(){t.removeClass("loading"),e(i+=1,a)}))}}(0,O)):X.find(".next, .prev").css("display","none")}if(C("body").on("click","#full-slider .wrap-slider button",function(){var e=C(this).parent().find("ul"),i=Number(e.data("frame")),a=e.find("li"),t=a.length;if(C(this).hasClass("next"))switch(O){case 1:i-1!=100*(t-1)?(e.css("margin-left","-"+(i-1+100)+"%"),e.data("frame",i+100),o(a.eq(a.find("img[data-blazy]:eq(0)").parent().index()))):(e.css("margin-left","0"),e.data("frame",1));break;case 2:i!==50*t-100?(e.css("margin-left","-"+(i-1+50)+"%"),e.data("frame",i+50),o(a.eq(a.find("img[data-blazy]:eq(0)").parent().index()))):(e.css("margin-left","0"),e.data("frame",1));break;case 3:i<=33.33*t-100?(e.css("margin-left","-"+(i-1+33.33)+"%"),e.data("frame",i+33.33),o(a.eq(a.find("img[data-blazy]:eq(0)").parent().index()))):(e.css("margin-left","0"),e.data("frame",1))}else if(C(this).hasClass("prev"))switch(O){case 1:1!==i&&(e.css("margin-left","-"+(i-1-100)+"%"),e.data("frame",""+(i-100)));break;case 2:1!==i&&(e.css("margin-left","-"+(i-1-50)+"%"),e.data("frame",i-50));break;case 3:1!==i&&(e.css("margin-left","-"+(i-1-33.33)+"%"),e.data("frame",i-33.33))}}),C("body").on("click","#full-slider .wrap-slider li",function(){var e=C(this).index(),i=C(this).parent().find("li").length,a=C(this).find("img").attr("src");C("#modal_img_propertie").find(".title").fadeIn(),C("#modal_img_propertie").addClass("cr-floorplan").find("button.nav").removeClass("opacity back"),C("#modal_img_propertie").removeClass("cr-floorplan"),n(e,i,a)}),C("body").on("click","#list-floorplan li",function(){var e=C(this).index(),i=C(this).parent().find("li").length,a=C(this).attr("data-img");C("#modal_img_propertie").addClass("cr-floorplan").find("button.nav").removeClass("opacity back"),C("#modal_img_propertie").find(".title").fadeOut(),n(e,i,a)}),C("body").on("click","#modal_img_propertie .close-modal, #modal_img_propertie .bg-black",function(){C("#modal_img_propertie").fadeOut()}),C("body").on("click","#modal_img_propertie .nav",function(){!function(e,i,a){var t=i,s=e,l=a,r=C("#modal_img_propertie"),o=r.find(".wrapper-img");r=C("#modal_img_propertie");var n=o.find(".numeration"),d=n.find("span").eq(0),c=n.find("span").eq(1);if(l.hasClass("next"))if((p=l.parent().find(".prev")).hasClass("opacity")&&p.removeClass("opacity"),Number(c.text())!==Number(d.text())){if(d.text(Number(d.text())+1),r.hasClass("cr-floorplan"))o.find(".img").attr("src",t.eq(Number(d.text())-1).attr("data-img"));else{if(null==(u=(h=s.find("li").eq(Number(d.text())-1).find("img")).attr("data-blazy")))var m=h.attr("src");else m=u;o.find(".img").attr("src",m)}Number(d.text())==Number(c.text())&&l.addClass("back")}else{var p;d.text("1"),r.hasClass("cr-floorplan")?o.find(".img").attr("src",t.eq(0).attr("data-img")):o.find(".img").attr("src",s.find("li").eq(0).find("img").attr("src")),l.removeClass("back"),(p=l.parent().find(".prev")).hasClass("opacity")||p.addClass("opacity")}else{var f=l.parent().find(".next");f.hasClass("back")&&f.removeClass("back");var v=Number(d.text());if(1!==v){var h,u;if(d.text(v-1),r.hasClass("cr-floorplan"))o.find(".img").attr("src",t.eq(v-2).attr("data-img"));else m=null==(u=(h=s.find("li").eq(v-2).find("img")).attr("data-blazy"))?h.attr("src"):u,o.find(".img").attr("src",m);2==v&&l.addClass("opacity")}}}(C("#full-slider .wrap-slider"),C("#list-floorplan li"),C(this))}),void 0!==C(".scroll-tab-list").width()){var B=document.getElementsByClassName("scroll-item");if(A=C(B),C(".scroll-tab-list").scrollLeft(),C(A).outerWidth(),C(".scroll-tab-list").scrollLeft(200).delay(200).animate({scrollLeft:"-=200"},2e3,"easeOutQuad"),!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){var P=!1;C(".paddle-right").bind("mouseover",function(){P=!0,d("right")}).bind("mouseout",function(){P=!1}),C(".paddle-left").bind("mouseover",function(){P=!0,d("left")}).bind("mouseout",function(){P=!1})}C(".scroll-tab-list .scroll-item").click(function(){C(".scroll-tab-list").find(".active").removeClass("active"),C(this).addClass("active")})}c(),C(window).resize(function(){c()}),C(".list-details").length&&C(".list-details:first").addClass("active"),C(document).on("click",".list-details h2",function(){C(this).hasClass("no-tab")||(C(".list-details").removeClass("active"),C(this).parent().addClass("active"),C(this).next().hasClass("show")?(C(this).next().removeClass("show"),C(this).parent().removeClass("active")):(C(".list-detail").removeClass("show"),C(".list-amenities").removeClass("show"),C(this).next().toggleClass("show")))})}(jQuery);